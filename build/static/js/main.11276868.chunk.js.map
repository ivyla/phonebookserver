{"version":3,"sources":["services/DatabaseService.js","components/Person.js","components/Persons.js","components/Message.js","App.js","index.js"],"names":["baseUrl","DatabaseService","getAll","axios","get","then","response","data","create","newObject","post","deletePerson","id","delete","update","newContact","put","errorMessageStyle","backgroundColor","color","padding","border","Person","name","number","setPersons","persons","setMessage","setMessageStyle","onClick","window","confirm","newPersons","filter","contact","catch","error","setTimeout","handleDelete","Persons","namesInBook","showAll","currentFilter","map","person","lowercaseFilter","toLowerCase","includes","Message","message","styling","style","successMessageStyle","PersonForm","newName","numberHandleChange","newNumber","submitEntry","nameHandleChange","onChange","value","type","Filter","setshowAllText","setCurrentfilter","event","target","App","useState","setNewName","setNewNumber","messageStyle","useEffect","initialPersons","preventDefault","find","item","updatedPersons","length","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.11276868.chunk.js","sourcesContent":["import axios from \"axios\"\r\nconst baseUrl = \"http://localhost:3001/api/persons\"\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then((response) => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then((response) => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then((response) => response.data)\r\n}\r\n\r\nconst update = (newContact) => {\r\n    const request = axios.put(`${baseUrl}/${newContact.id}`, newContact)\r\n    return request.then((response) => response.data)\r\n}\r\n\r\nconst DatabaseService = {\r\n    getAll,\r\n    create,\r\n    deletePerson,\r\n    update\r\n}\r\n\r\nexport default DatabaseService\r\n","import React from \"react\"\r\nimport DatabaseService from \"./../services/DatabaseService\"\r\n\r\nconst errorMessageStyle = {\r\n    backgroundColor: \"#b8b8b8\",\r\n    color: \"red\",\r\n    padding: \"15px\",\r\n    border: \"3px solid red\"\r\n}\r\n\r\nconst handleDelete = (\r\n    id,\r\n    setPersons,\r\n    persons,\r\n    name,\r\n    setMessage,\r\n    setMessageStyle\r\n) => {\r\n    if (window.confirm(`Delete ${name}?`)) {\r\n        DatabaseService.deletePerson(id)\r\n            .then((response) => {\r\n                const newPersons = persons.filter(\r\n                    (contact) => contact.id !== id\r\n                )\r\n                setPersons(newPersons)\r\n            })\r\n            .catch((error) => {\r\n                setMessage(\r\n                    `Information of ${name} has already been removed from the server`\r\n                )\r\n                setMessageStyle(errorMessageStyle)\r\n                setTimeout(() => setMessage(null), 3000)\r\n                // set timeout to set the message to null\r\n            })\r\n    }\r\n}\r\nconst Person = ({\r\n    id,\r\n    name,\r\n    number,\r\n    setPersons,\r\n    persons,\r\n    setMessage,\r\n    setMessageStyle\r\n}) => {\r\n    return (\r\n        <div key={id}>\r\n            <p key={id}>\r\n                {\" \"}\r\n                {name} {number}{\" \"}\r\n                <button\r\n                    onClick={() =>\r\n                        handleDelete(\r\n                            id,\r\n                            setPersons,\r\n                            persons,\r\n                            name,\r\n                            setMessage,\r\n                            setMessageStyle\r\n                        )\r\n                    }\r\n                >\r\n                    {\" \"}\r\n                    delete{\" \"}\r\n                </button>\r\n            </p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person\r\n","import Person from \"./Person\"\r\n\r\nconst Persons = ({\r\n    persons,\r\n    showAll,\r\n    currentFilter,\r\n    setPersons,\r\n    setMessage,\r\n    setMessageStyle\r\n}) => {\r\n    let namesInBook\r\n    if (showAll) {\r\n        namesInBook = persons.map((person) => {\r\n            return (\r\n                <div key={person.id}>\r\n                    <Person\r\n                        key={person.id}\r\n                        id={person.id}\r\n                        name={person.name}\r\n                        number={person.number}\r\n                        setPersons={setPersons}\r\n                        persons={persons}\r\n                        setMessage={setMessage}\r\n                        setMessageStyle={setMessageStyle}\r\n                    />\r\n                </div>\r\n            )\r\n        })\r\n    } else {\r\n        // Filter down the list of persons (case insensitive)\r\n        let lowercaseFilter = currentFilter.toLowerCase()\r\n        const listOfFiltered = persons.filter((person) =>\r\n            person.name.toLowerCase().includes(lowercaseFilter)\r\n        )\r\n        namesInBook = listOfFiltered.map((person) => (\r\n            <div key={person.id}>\r\n                <Person\r\n                    key={person.id}\r\n                    id={person.id}\r\n                    name={person.name}\r\n                    number={person.number}\r\n                    setPersons={setPersons}\r\n                    persons={persons}\r\n                    setMessage={setMessage}\r\n                    setMessageStyle={setMessageStyle}\r\n                />\r\n            </div>\r\n        ))\r\n    }\r\n    return <div> {namesInBook}</div>\r\n}\r\n\r\nexport default Persons\r\n","const Message = ({message, styling}) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    return (\r\n        <div>\r\n            <h2 style={styling}>{message}</h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Message\r\n","import React, {useState, useEffect} from \"react\"\nimport Persons from \"./components/Persons\"\nimport DatabaseService from \"./services/DatabaseService\"\nimport \"./index\"\nimport Message from \"./components/Message\"\n\nconst successMessageStyle = {\n    backgroundColor: \"#b8b8b8\",\n    color: \"green\",\n    padding: \"15px\",\n    border: \"3px solid green\"\n}\n\nconst PersonForm = ({\n    newName,\n    numberHandleChange,\n    newNumber,\n    submitEntry,\n    nameHandleChange\n}) => (\n    <form>\n        <div>\n            name: <input onChange={nameHandleChange} value={newName} />\n            number:\n            <input onChange={numberHandleChange} value={newNumber} />\n        </div>\n        <div>\n            <button type=\"submit\" onClick={submitEntry}>\n                add\n            </button>\n        </div>\n    </form>\n)\n\nconst Filter = ({\n    showAll,\n    setshowAllText,\n    persons,\n    currentFilter,\n    setCurrentfilter\n}) => {\n    return (\n        <div>\n            {\" \"}\n            filter shown with{\" \"}\n            <input\n                value={currentFilter}\n                onChange={(event) => {\n                    setCurrentfilter(event.target.value)\n                    if (event.target.value === \"\") {\n                        setshowAllText(true)\n                    } else {\n                        setshowAllText(false)\n                    }\n                }}\n            />\n        </div>\n    )\n}\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState(\"\")\n    const [newNumber, setNewNumber] = useState(\"\")\n    const [currentFilter, setCurrentfilter] = useState(\"\")\n    const [showAll, setshowAllText] = useState(true)\n    const [message, setMessage] = useState(null)\n    const [messageStyle, setMessageStyle] = useState(successMessageStyle)\n\n    useEffect(\n        () =>\n            DatabaseService.getAll().then((initialPersons) =>\n                setPersons(initialPersons)\n            ),\n        []\n    )\n\n    const checkSameName = () => {\n        const checkName = persons.find((item) => item.name === newName)\n        if (typeof checkName == \"undefined\") {\n            return false\n        }\n        return true\n    }\n    const submitEntry = (event) => {\n        event.preventDefault()\n        if (checkSameName()) {\n            if (\n                window.confirm(\n                    `${newName} is already added to the phonebook, replace the old number with a new one?`\n                )\n            ) {\n                const existingNameId = persons.find(\n                    (contact) => contact.name === newName\n                )\n                let newContact = {\n                    id: existingNameId.id,\n                    name: newName,\n                    number: newNumber\n                }\n                DatabaseService.update(newContact).then((response) => {\n                    const updatedPersons = persons.map((contact) =>\n                        contact.id === newContact.id\n                            ? {...contact, number: newContact.number}\n                            : contact\n                    )\n                    setPersons(updatedPersons)\n                    setNewName(\"\")\n                    setNewNumber(\"\")\n                })\n            }\n        } else {\n            let newId\n            persons.length === 0\n                ? (newId = 1)\n                : (newId = persons[persons.length - 1].id + 1)\n\n            const newContact = {\n                id: newId,\n                name: newName,\n                number: newNumber\n            }\n            // Make a call to the database\n            DatabaseService.create(newContact).then((response) => {\n                setPersons([...persons, newContact])\n                setNewName(\"\")\n                setNewNumber(\"\")\n                setMessage(`Added ${newContact.name}`)\n                setTimeout(() => {\n                    setMessage(null)\n                }, 3000)\n            })\n        }\n    }\n\n    const nameHandleChange = (event) => setNewName(event.target.value)\n    const numberHandleChange = (event) => setNewNumber(event.target.value)\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Message message={message} styling={messageStyle} />\n            <Filter\n                showAll={showAll}\n                setshowAllText={setshowAllText}\n                persons={persons}\n                currentFilter={currentFilter}\n                setCurrentfilter={setCurrentfilter}\n            />\n            <h2> add a </h2>\n            <PersonForm\n                newName={newName}\n                numberHandleChange={numberHandleChange}\n                newNumber={newNumber}\n                submitEntry={submitEntry}\n                nameHandleChange={nameHandleChange}\n            />\n\n            <h2>Numbers</h2>\n            <Persons\n                persons={persons}\n                showAll={showAll}\n                currentFilter={currentFilter}\n                setPersons={setPersons}\n                setMessage={setMessage}\n                setMessageStyle={setMessageStyle}\n            />\n        </div>\n    )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n)\n"],"sourceRoot":""}