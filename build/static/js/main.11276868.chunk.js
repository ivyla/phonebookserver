(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{23:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),c=n(17),a=n.n(c),o=(n(23),n(18)),u=n(8),i=n(3),l=n(5),d=n.n(l),b="http://localhost:3001/api/persons",j={getAll:function(){return d.a.get(b).then((function(e){return e.data}))},create:function(e){return d.a.post(b,e).then((function(e){return e.data}))},deletePerson:function(e){return d.a.delete("".concat(b,"/").concat(e)).then((function(e){return e.data}))},update:function(e){return d.a.put("".concat(b,"/").concat(e.id),e).then((function(e){return e.data}))}},h=n(0),f={backgroundColor:"#b8b8b8",color:"red",padding:"15px",border:"3px solid red"},m=function(e){var t=e.id,n=e.name,r=e.number,s=e.setPersons,c=e.persons,a=e.setMessage,o=e.setMessageStyle;return Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:[" ",n," ",r," ",Object(h.jsxs)("button",{onClick:function(){return function(e,t,n,r,s,c){window.confirm("Delete ".concat(r,"?"))&&j.deletePerson(e).then((function(r){var s=n.filter((function(t){return t.id!==e}));t(s)})).catch((function(e){s("Information of ".concat(r," has already been removed from the server")),c(f),setTimeout((function(){return s(null)}),3e3)}))}(t,s,c,n,a,o)},children:[" ","delete"," "]})]},t)},t)},O=function(e){var t,n=e.persons,r=e.showAll,s=e.currentFilter,c=e.setPersons,a=e.setMessage,o=e.setMessageStyle;if(r)t=n.map((function(e){return Object(h.jsx)("div",{children:Object(h.jsx)(m,{id:e.id,name:e.name,number:e.number,setPersons:c,persons:n,setMessage:a,setMessageStyle:o},e.id)},e.id)}));else{var u=s.toLowerCase();t=n.filter((function(e){return e.name.toLowerCase().includes(u)})).map((function(e){return Object(h.jsx)("div",{children:Object(h.jsx)(m,{id:e.id,name:e.name,number:e.number,setPersons:c,persons:n,setMessage:a,setMessageStyle:o},e.id)},e.id)}))}return Object(h.jsxs)("div",{children:[" ",t]})},p=function(e){var t=e.message,n=e.styling;return null===t?null:Object(h.jsx)("div",{children:Object(h.jsx)("h2",{style:n,children:t})})},g={backgroundColor:"#b8b8b8",color:"green",padding:"15px",border:"3px solid green"},x=function(e){var t=e.newName,n=e.numberHandleChange,r=e.newNumber,s=e.submitEntry,c=e.nameHandleChange;return Object(h.jsxs)("form",{children:[Object(h.jsxs)("div",{children:["name: ",Object(h.jsx)("input",{onChange:c,value:t}),"number:",Object(h.jsx)("input",{onChange:n,value:r})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",onClick:s,children:"add"})})]})},v=function(e){e.showAll;var t=e.setshowAllText,n=(e.persons,e.currentFilter),r=e.setCurrentfilter;return Object(h.jsxs)("div",{children:[" ","filter shown with"," ",Object(h.jsx)("input",{value:n,onChange:function(e){r(e.target.value),""===e.target.value?t(!0):t(!1)}})]})},w=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)(""),a=Object(i.a)(c,2),l=a[0],d=a[1],b=Object(r.useState)(""),f=Object(i.a)(b,2),m=f[0],w=f[1],y=Object(r.useState)(""),C=Object(i.a)(y,2),S=C[0],M=C[1],k=Object(r.useState)(!0),A=Object(i.a)(k,2),P=A[0],N=A[1],E=Object(r.useState)(null),F=Object(i.a)(E,2),H=F[0],T=F[1],D=Object(r.useState)(g),I=Object(i.a)(D,2),J=I[0],L=I[1];Object(r.useEffect)((function(){return j.getAll().then((function(e){return s(e)}))}),[]);return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Phonebook"}),Object(h.jsx)(p,{message:H,styling:J}),Object(h.jsx)(v,{showAll:P,setshowAllText:N,persons:n,currentFilter:S,setCurrentfilter:M}),Object(h.jsx)("h2",{children:" add a "}),Object(h.jsx)(x,{newName:l,numberHandleChange:function(e){return w(e.target.value)},newNumber:m,submitEntry:function(e){if(e.preventDefault(),"undefined"!=typeof n.find((function(e){return e.name===l}))){if(window.confirm("".concat(l," is already added to the phonebook, replace the old number with a new one?"))){var t={id:n.find((function(e){return e.name===l})).id,name:l,number:m};j.update(t).then((function(e){var r=n.map((function(e){return e.id===t.id?Object(u.a)(Object(u.a)({},e),{},{number:t.number}):e}));s(r),d(""),w("")}))}}else{var r={id:0===n.length?1:n[n.length-1].id+1,name:l,number:m};j.create(r).then((function(e){s([].concat(Object(o.a)(n),[r])),d(""),w(""),T("Added ".concat(r.name)),setTimeout((function(){T(null)}),3e3)}))}},nameHandleChange:function(e){return d(e.target.value)}}),Object(h.jsx)("h2",{children:"Numbers"}),Object(h.jsx)(O,{persons:n,showAll:P,currentFilter:S,setPersons:s,setMessage:T,setMessageStyle:L})]})};a.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(w,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.11276868.chunk.js.map